<div class="w3-container">
  <div class="w3-card-4">
    <div class="w3-container w3-blue">
      <h2>User Form</h2>
    </div>
    <form class="w3-container" [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div class="w3-tag w3-green w3-center" *ngIf="isSubmitted">
        <p>User Added!</p>
      </div>
      <div class="w3-tag w3-red w3-center" 
          *ngIf="!userForm.valid && !isSubmitted 
            && (userForm.controls['title'].touched || userForm.controls['title'].dirty)
            && (userForm.controls['name'].touched || userForm.controls['name'].dirty)
            && (userForm.controls['surname'].touched || userForm.controls['surname'].dirty)
            && (userForm.controls['gender'].touched || userForm.controls['gender'].dirty)
            && (userForm.controls['role'].touched || userForm.controls['role'].dirty)
            && (userForm.controls['industry'].touched || userForm.controls['industry'].dirty)">
        <p>Enter user details to submit form</p>
      </div>
      <label>Title</label>
      <select class="w3-select w3-border" formControlName="title">
        <option *ngFor="let title of userFormProfileValues.title" 
        [selected]="userProfile?.title == title ? true : null"
        [value]="title">{{ title }}</option>
      </select>
      <div *ngIf="(!userForm.controls['title'].valid && userForm.controls['title'].touched)" class="w3-yellow w3-padding-small">Enter valid title</div>
      
      <label>Name</label>
      <input class="w3-input w3-border" type="text" formControlName="name" />
      <div *ngIf="(!userForm.controls['name'].valid && userForm.controls['name'].touched)" class="w3-yellow w3-padding-small">Enter valid name</div>

      <label>Surname</label>
      <input class="w3-input w3-border" type="text" formControlName="surname" />
      <div *ngIf="(!userForm.controls['surname'].valid && userForm.controls['surname'].touched)" class="w3-yellow w3-padding-small">Enter valid surname</div>

      <label>Gender</label>
      <select class="w3-select w3-border" formControlName="gender">
        <option *ngFor="let gender of userFormProfileValues.gender"
        [selected]="userProfile?.gender == 'gender' ? true : null"
        [value]="gender">{{ gender }}</option>
      </select>
      <div *ngIf="(!userForm.controls['gender'].valid && userForm.controls['gender'].touched)" class="w3-yellow w3-padding-small">Enter valid gender</div>

      <label>Role</label>
      <select class="w3-select w3-border" formControlName="role">
        <option *ngFor="let role of userFormProfileValues.role"
        [selected]="userProfile?.role == role ? true : null"
        [value]="role">{{ role }}</option>
      </select>
      <div *ngIf="(!userForm.controls['role'].valid && userForm.controls['role'].touched)" class="w3-yellow w3-padding-small">Enter valid role</div>

      <label>Industry</label>
      <select class="w3-select w3-border" formControlName="industry">
        <option *ngFor="let industry of userFormProfileValues.industry"
        [selected]="userProfile?.industry == industry ? true : null"
        [value]="industry">{{ industry }}</option>
      </select>
      <div *ngIf="(!userForm.controls['industry'].valid && userForm.controls['industry'].touched)" class="w3-yellow w3-padding-small">Enter valid industry</div>

      <button class="w3-button w3-block w3-section w3-blue w3-ripple w3-padding" [disabled]="(userForm.valid && isSubmitted) ? true : false">Send</button>
      <button class="w3-button w3-block w3-section w3-black w3-ripple w3-padding" (click)="reset()">Reset</button>
    </form>  
  </div>
</div>